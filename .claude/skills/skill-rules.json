{
    "version": "1.0",
    "description": "Skill activation triggers for Claude Code. Controls when skills automatically suggest or block actions.",
    "skills": {
        "memory-search-reminder": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Reminds Claude to search memories before starting new work, implementing features, or making decisions. Ensures Claude checks for past solutions, decisions, and patterns using openmemory-search-memories before diving into new implementations.",
            "promptTriggers": {
                "keywords": [
                    "implement",
                    "feature",
                    "solution",
                    "decision",
                    "how did we",
                    "previously",
                    "past",
                    "memory",
                    "remember",
                    "recall",
                    "similar",
                    "before",
                    "earlier",
                    "history",
                    "previous"
                ],
                "intentPatterns": [
                    "(how did|did we|was there).*?(implementation|solution|decision|approach)",
                    "(implement|create|add|build).*?(feature|solution|functionality)",
                    "(what was|how did|did we).*?(handle|solve|approach)",
                    "(similar|like|related).*?(implementation|solution|feature)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/*.py",
                    "**/*.md",
                    "**/src/**",
                    "**/api/**",
                    "**/shared/**",
                    "**/models/**",
                    "**/routes/**",
                    "**/services/**",
                    "**/utils/**"
                ],
                "contentPatterns": [
                    "def ",
                    "class ",
                    "function",
                    "implementation",
                    "solution",
                    "feature",
                    "design",
                    "architecture"
                ]
            }
        },
        "claude-context-usage": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "critical",
            "description": "Ensures Claude always uses claude-context semantic search before any other search method. claude-context provides hybrid search (BM25 + vectors) and finds related code across the codebase without reading files. Use BEFORE feature implementation, bug hunting, refactoring, schema changes, or any code search.",
            "promptTriggers": {
                "keywords": [
                    "search",
                    "find",
                    "where is",
                    "locate",
                    "look for",
                    "find code",
                    "find function",
                    "find implementation",
                    "code search",
                    "semantic search",
                    "dependency",
                    "relationship",
                    "architecture"
                ],
                "intentPatterns": [
                    "(search|find|look for|where is|locate).*?(code|function|implementation|dependency|pattern|similar)",
                    "(find|show me|where).*?(uses|calls|depends on|related)",
                    "(how is|where).*?(implemented|defined|used)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/*.py",
                    "**/*.md",
                    "**/src/**",
                    "**/api/**",
                    "**/shared/**",
                    "**/models/**",
                    "**/routes/**",
                    "**/services/**",
                    "**/utils/**"
                ],
                "contentPatterns": [
                    "def ",
                    "class ",
                    "function",
                    "import",
                    "dependency",
                    "architecture"
                ]
            }
        },
        "documentation-lookup": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Use to efficiently access project documentation using claude-context, Qwen, or Gemini to avoid token waste and find precise information. Use when working with Docker containers, connection methods, configuration files, or project-specific implementations.",
            "promptTriggers": {
                "keywords": [
                    "documentation",
                    "container connection",
                    "connection method",
                    "docker",
                    "configuration",
                    "implementation",
                    "how to",
                    "setup",
                    "architecture",
                    "database connection",
                    "api endpoint"
                ],
                "intentPatterns": [
                    "(where|how).*?(documented|configured|setup|connection|implement)",
                    "(find|look up|search for).*?(documentation|instructions|how to)",
                    "(how does|explain).*?(connection|setup|configuration)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/*.md",
                    "**/*.txt",
                    "docs/**",
                    "plans-docs/**"
                ],
                "contentPatterns": [
                    "#+.*?setup",
                    "#+.*?configuration",
                    "#+.*?architecture",
                    "```yaml",
                    "docker-compose",
                    "config\\."
                ]
            }
        },
        "code-validation": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Guides verification and validation workflows before commits, memory additions, or implementing plans. Ensures code quality, functionality, and completeness using Serena, claude-context, and AI tools. Use when making significant changes, before git commits, or before openmemory-add-memory.",
            "promptTriggers": {
                "keywords": [
                    "commit",
                    "validate",
                    "verify",
                    "review",
                    "memory",
                    "openmemory",
                    "pre-commit",
                    "check changes",
                    "before commit",
                    "plan review",
                    "second guess",
                    "implementation",
                    "feature complete",
                    "ready to commit"
                ],
                "intentPatterns": [
                    "(commit|make|save).*?(change|update|fix|feature)",
                    "(before.*?commit|ready.*?commit|pre-commit)",
                    "(validate|verify|check|review).*?(changes|code|implementation|plan)",
                    "(add|save|store).*?memory",
                    "(plan|design|implement).*?(validation|verification)",
                    "(second.*?guess|alternative|should I).*?(approach|plan|implementation)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/*.ts",
                    "**/*.js",
                    "**/*.tsx",
                    "**/*.jsx",
                    "**/*.py",
                    "**/src/**",
                    "**/api/**",
                    "**/services/**",
                    "**/workflows/**",
                    "**/utils/**"
                ],
                "contentPatterns": [
                    "function ",
                    "class ",
                    "def ",
                    "async ",
                    "export ",
                    "implementation",
                    "feature",
                    "refactor"
                ]
            }
        },
        "post-stop-resumption": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Helps Claude effectively resume work after an interruption or stop by assessing the current situation, understanding what occurred before the stop, and seeking assistance from MCP tools to understand how to proceed.",
            "promptTriggers": {
                "keywords": [
                    "resume",
                    "continue",
                    "restart",
                    "where was I",
                    "what was I doing",
                    "help",
                    "stuck",
                    "problem",
                    "issue",
                    "error",
                    "stop",
                    "pause",
                    "assistance"
                ],
                "intentPatterns": [
                    "(how do|how to|help me).*?(continue|resume|restart)",
                    "(where was|what was).*?(i doing|the task)",
                    "(help|assistance|stuck).*?(with|on|continue)",
                    "(resume|continue|restart).*?(work|task|process)"
                ]
            }
        },
        "serena-surgical-editing": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Use Serena for symbol-level code surgery when editing TypeScript/JavaScript. ALWAYS use find_referencing_symbols before modifications to prevent breaking changes. Achieves 75-80% token savings vs full file reads.",
            "promptTriggers": {
                "keywords": [
                    "edit",
                    "refactor",
                    "rename",
                    "function",
                    "class",
                    "method",
                    "interface",
                    "symbol",
                    "modify",
                    "change code",
                    "update function",
                    "impact analysis",
                    "find references",
                    "call graph",
                    "dependencies"
                ],
                "intentPatterns": [
                    "(edit|refactor|modify|change).*?(function|class|method|interface|symbol)",
                    "(rename|update).*?(function|variable|class|method)",
                    "(find|show|identify).*?(references|usages|callers|dependencies)",
                    "(safe|check).*?(refactor|rename|edit)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/*.ts",
                    "**/*.tsx",
                    "**/*.js",
                    "**/*.jsx",
                    "**/src/**",
                    "**/lib/**",
                    "**/utils/**"
                ],
                "contentPatterns": [
                    "function ",
                    "class ",
                    "interface ",
                    "export ",
                    "const.*=.*=>",
                    "async function"
                ]
            }
        },
        "unified-ai-orchestration": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Use unified-ai-mcp for multi-model AI analysis when complexity requires different perspectives. Run ask-gemini + ask-qwen in parallel for comprehensive validation. Add ask-rovodev for production-ready code generation.",
            "promptTriggers": {
                "keywords": [
                    "review",
                    "validate",
                    "analyze",
                    "comprehensive",
                    "parallel",
                    "gemini",
                    "qwen",
                    "rovodev",
                    "AI review",
                    "multiple perspectives",
                    "second opinion",
                    "cross-validate",
                    "implement feature",
                    "generate code",
                    "production code"
                ],
                "intentPatterns": [
                    "(review|validate|analyze).*?(code|architecture|implementation)",
                    "(comprehensive|thorough|detailed).*?(review|analysis|validation)",
                    "(parallel|multiple).*?(review|validation|perspective)",
                    "(implement|generate|create).*?(feature|code|function)",
                    "(ask|use).*(gemini|qwen|rovodev)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/*.ts",
                    "**/*.js",
                    "**/*.tsx",
                    "**/*.jsx",
                    "**/src/**",
                    "**/api/**",
                    "**/services/**",
                    "**/workflows/**"
                ],
                "contentPatterns": [
                    "function ",
                    "class ",
                    "async ",
                    "export ",
                    "implementation",
                    "workflow",
                    "handler"
                ]
            }
        }
    },
    "notes": {
        "enforcement_types": {
            "suggest": "Skill suggestion appears but doesn't block execution",
            "block": "Requires skill to be used before proceeding (guardrail)",
            "warn": "Shows warning but allows proceeding"
        },
        "priority_levels": {
            "critical": "Highest - Always trigger when matched",
            "high": "Important - Trigger for most matches",
            "medium": "Moderate - Trigger for clear matches",
            "low": "Optional - Trigger only for explicit matches"
        },
        "customization": {
            "pathPatterns": "Adjust to match your project structure",
            "keywords": "Add domain-specific terms relevant to your project",
            "intentPatterns": "Use regex for flexible user intent matching"
        }
    }
}